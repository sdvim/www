---
import BaseLayout from '../layouts/base.astro';
import { experiences } from '../data/resume.json';
const title = 'Resume';
const updated = new Date('2022-06-21');
const related = {
  "About": "/about",
  "Portfolio": "//hire.stevedv.com",
  "LinkedIn": "//www.linkedin.com/in/sdvim"
};
const dateRange = (start, end) => {
  const startDate = new Date(start);
  const endDate = new Date(end);
  const sM = startDate.getMonth()+1;
  const sY = startDate.getFullYear();
  const eM = endDate.getMonth()+1;
  const eY = endDate.getFullYear();

  return `${sM}/${sY} â€” ${eM}/${eY}`;
}
---

<BaseLayout content={{title, updated, related}}>
  {experiences.map(({position, company, description}) => (
    <article>
      { !company.skip && (
      <h3 style="display: flex; justify-content: space-between;">
        <strong>{company.name}</strong>
        <small>
          {company.industry}
          &nbsp;&bullet;&nbsp;
          {company.location}
        </small>
      </h3>
      )}
      <p style="display: flex; justify-content: space-between;">
        <span>{position.title}{position.team ? `, ${position.team}` : ""}</span>
        <date>{dateRange(position.startDate, position.endDate)}</date>
      </p>
      <ul>
        {description.map((item) => (
          <li>{item}</li>
        ))}
      </ul>
    </article>
  ))}
</BaseLayout>